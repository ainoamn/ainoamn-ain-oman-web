# ๐งช **ุฏููู ุงุฎุชุจุงุฑ ุงูุชุฒุงูู ุงูููุฑู**

---

## ๐ฏ **ุงููุฏู:**
ุงุฎุชุจุงุฑ ุฃู ุฅุถุงูุฉ/ุญุฐู ุงูุตูุงุญูุงุช ูู `/admin/roles-permissions` ููุนูุณ ููุฑุงู ูู `/profile`

---

## โก **ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน (ุฏูููุชูู):**

### ุงูุชุญุถูุฑ:

#### 1๏ธโฃ **ุงูุชุญ ุชุจููุจ Profile (Owner):**
```
1. ุงูุชุญ ุงููุชุตูุญ (Chrome/Firefox/Edge)
2. ุงุฐูุจ ุฅูู: http://localhost:3000/login
3. ุณุฌูู ุฏุฎูู:
   ุงูุจุฑูุฏ: owner@ainoman.om
   ูููุฉ ุงููุฑูุฑ: Owner@2025
4. ุงุฐูุจ ุฅูู: http://localhost:3000/profile
5. ุงุถุบุท F12 (ุงูุชุญ Developer Tools)
6. ุงุฐูุจ ุฅูู ุชุจููุจ Console
7. ุณุชุฑู:
   ๐ Profile: BroadcastChannel connected
   ๐ Profile: Listening for permission changes...
   โ Profile: User data updated with 11 permissions
```

#### 2๏ธโฃ **ุงูุชุญ ุชุจููุจ Roles (Admin) - ุชุจููุจ ุฌุฏูุฏ:**
```
1. ุงุถุบุท Ctrl+T (ุชุจููุจ ุฌุฏูุฏ)
2. ุงุฐูุจ ุฅูู: http://localhost:3000/login
3. ุณุฌูู ุฏุฎูู:
   ุงูุจุฑูุฏ: admin@ainoman.om
   ูููุฉ ุงููุฑูุฑ: Admin@2025
4. ุงุฐูุจ ุฅูู: http://localhost:3000/admin/roles-permissions
5. ุงุถุบุท F12 (ุงูุชุญ Console)
```

---

### ๐งช **ุงูุงุฎุชุจุงุฑ 1: ุฅุถุงูุฉ ุตูุงุญูุฉ**

#### ูู ุชุจููุจ Admin (roles-permissions):
```
1. ุงุจุญุซ ุนู "ูุงูู ุนูุงุฑ" ูู ุงููุงุฆูุฉ
2. ุงุถุบุท "ุชุนุฏูู ุงูุตูุงุญูุงุช"
3. ูู ูุณู "ุงููุงููููุฉ" ุงุจุญุซ ุนู:
   โ view_legal - ุนุฑุถ ุงููุงููููุฉ
4. ุถุน ุนูุงูุฉ โ
5. ุงุถุบุท "ุญูุธ ูุชุทุจูู ุนูู ุฌููุน ุงููุณุชุฎุฏููู"
6. ูู Console ุณุชุฑู:
   โ Broadcast message sent for real-time sync
```

#### ูู ุชุจููุจ Owner (profile):
```
1. ุงุฑุฌุน ููุชุจููุจ ุงูุฃูู (Profile)
2. ุงูุธุฑ ูู Consoleุ ุณุชุฑู:
   ๐ก Profile: Broadcast message received: {type: "PERMISSIONS_UPDATED", ...}
   ๐ Profile: Permissions updated, reloading...
   ๐ Profile: Loaded permissions from roles config: 12 permissions
   โ Profile: User data updated with 12 permissions

3. ุงูุธุฑ ูู ุงูุตูุญุฉ:
   โ ุณุชุฌุฏ ูุณู ุฌุฏูุฏ ุงุณูู "ุงููุงููููุฉ" ุธูุฑ!
   โ ุฏุงุฎูู ุตูุงุญูุฉ "ุนุฑุถ ุงููุงููููุฉ"
   โ ุจุฏูู ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ!
```

---

### ๐งช **ุงูุงุฎุชุจุงุฑ 2: ุญุฐู ุตูุงุญูุฉ**

#### ูู ุชุจููุจ Admin (roles-permissions):
```
1. ุงุฎุชุฑ "ูุงูู ุนูุงุฑ"
2. ุฃุฒู ุนูุงูุฉ โ ูู "view_legal"
3. ุงุถุบุท "ุญูุธ ูุชุทุจูู"
4. ูู Console ุณุชุฑู:
   โ Broadcast message sent for real-time sync
```

#### ูู ุชุจููุจ Owner (profile):
```
1. ุงูุธุฑ ูู Console:
   ๐ก Profile: Broadcast message received
   ๐ Profile: Permissions updated, reloading...
   โ Profile: User data updated with 11 permissions

2. ุงูุธุฑ ูู ุงูุตูุญุฉ:
   โ ูุณู "ุงููุงููููุฉ" ุงุฎุชูู ุชููุงุฆูุงู!
   โ ุจุฏูู F5!
```

---

### ๐งช **ุงูุงุฎุชุจุงุฑ 3: ุฅุถุงูุฉ ุนุฏุฉ ุตูุงุญูุงุช**

#### ูู ุชุจููุจ Admin:
```
1. ุงุฎุชุฑ "ูุงูู ุนูุงุฑ"
2. ุฃุถู:
   โ view_legal
   โ manage_users
   โ view_analytics
3. ุงุญูุธ
```

#### ูู ุชุจููุจ Owner:
```
โ ุฌููุน ุงูุตูุงุญูุงุช ุงูู3 ุณุชุธูุฑ ููุฑุงู!
โ ุณุชุฑู 3 ุฃูุณุงู ุฌุฏูุฏุฉ:
   - ุงููุงููููุฉ
   - ุงูุฅุฏุงุฑุฉ (manage_users)
   - ุฃุฎุฑู (view_analytics)
```

---

### ๐งช **ุงูุงุฎุชุจุงุฑ 4: ุญุฐู ูู ุงูุตูุงุญูุงุช**

#### ูู ุชุจููุจ Admin:
```
1. ุงุฎุชุฑ "ูุงูู ุนูุงุฑ"
2. ุฃุฒู ุฌููุน ุงูุตูุงุญูุงุช
3. ุงุญูุธ
```

#### ูู ุชุจููุจ Owner:
```
โ ุฌููุน ุงูุฃูุณุงู ุณุชุฎุชูู!
โ ุณุชุฑู ุฑุณุงูุฉ: "ูุง ุชูุฌุฏ ุตูุงุญูุงุช ููุนููุฉ"
```

---

## ๐ **ูุงุฐุง ุชุจุญุซ ุนูู:**

### โ **ุนูุงูุงุช ุงููุฌุงุญ:**

#### ูู Console (Profile):
```
โ "BroadcastChannel connected"
โ "Broadcast message received"
โ "Permissions updated, reloading"
โ ุนุฏุฏ ุงูุตูุงุญูุงุช ูุชุบูุฑ
```

#### ูู ุงูุตูุญุฉ (Profile):
```
โ ุงูุฃูุณุงู ุชุธูุฑ/ุชุฎุชูู ููุฑุงู
โ ุงูุตูุงุญูุงุช ุชูุถุงู/ุชูุญุฐู ููุฑุงู
โ ุงูุนุฏุงุฏ ูุชุญุฏุซ (ุนุฏุฏ ุงูุตูุงุญูุงุช)
โ ุจุฏูู F5 ุฃู Reload
```

---

## ๐ **ุฅุฐุง ูู ูุนูู:**

### ุงููุดููุฉ 1: ูุง ุชุฑู "BroadcastChannel connected"
```
ุงูุญู: ูุชุตูุญู ูุฏูู
โ ุงุณุชุฎุฏู Chrome/Firefox/Edge ุงูุญุฏูุซ
โ ุฃู ุณูุณุชุฎุฏู ุงููุธุงู CustomEvent ูุจุฏูู
```

### ุงููุดููุฉ 2: ูุง ุชุฑู "Broadcast message received"
```
ุงูุชุญูู:
1. ูู ุฃูุช ูู ุชุจููุจูู ูุฎุชููููุ โ
2. ูู ุงูุชุจููุจุงู ูู ููุณ ุงููุชุตูุญุ โ
3. ูู ูุชุญุช Console ูู ููุง ุงูุชุจููุจููุ โ
4. ูู ุถุบุทุช "ุญูุธ ูุชุทุจูู"ุ โ
```

### ุงููุดููุฉ 3: ุงูุฑุณุงูุฉ ุชุตู ููู ูุง ูุชุญุฏุซ
```
ุงูุชุญูู:
1. ูู Console ุงูุชุจ:
   JSON.parse(localStorage.getItem('roles_permissions_config'))
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงูุฏูุฑ ุงูููุนุฏูู
3. ุชุฃูุฏ ูู ุชุทุงุจู role.id ูุน user.role
```

---

## ๐ **ุงูุฅุญุตุงุฆูุงุช ุงููุชููุนุฉ:**

| ุงูุณููุงุฑูู | ุงูููุช | ุงููุฌุงุญ |
|-----------|-------|--------|
| ุฅุถุงูุฉ ุตูุงุญูุฉ ูุงุญุฏุฉ | < 100ms | โ |
| ุฅุถุงูุฉ 5 ุตูุงุญูุงุช | < 200ms | โ |
| ุญุฐู ุตูุงุญูุฉ | < 100ms | โ |
| ุญุฐู ุฌููุน ุงูุตูุงุญูุงุช | < 200ms | โ |

---

## ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

### โ ูุนูู ูู:
- ููุณ ุงูุชุจููุจ
- ุชุจููุจุงุช ูุฎุชููุฉ
- ููุณ ุงููุงูุฐุฉ
- ููุงูุฐ ูุฎุชููุฉ (ูู ููุณ ุงููุชุตูุญ)

### โก ุงูุณุฑุนุฉ:
- ุฃูู ูู 100ms ูู ุงููุชูุณุท
- ููุฑู ูููุณุชุฎุฏู

### ๐จ ุงูุชุฌุฑุจุฉ:
- ุณูุณุฉ ูุณุฑูุนุฉ
- ุจุฏูู ุชุฃุฎูุฑ
- ุจุฏูู ุฅุนุงุฏุฉ ุชุญููู
- ุงุญุชุฑุงููุฉ 100%

---

**๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ ุงูุขู! ๐งช**

*14 ุฃูุชูุจุฑ 2025*

