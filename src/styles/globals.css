/* src/styles/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* أساسيات بسيطة حتى بدون Tailwind تعمل */
:root { --brand-700:#0f766e; }
html,body { margin:0; padding:0; }
.brand-bg { background: linear-gradient(90deg, #0d9488, #0ea5a3); }


/* ===== Theme Tokens ===== */
:root {
  --brand-50: #e6fffb;
  --brand-100: #bff8f2;
  --brand-200: #99efe8;
  --brand-300: #73e6de;
  --brand-400: #4cd9d1;
  --brand-500: #26ccc3;
  --brand-600: #0d9488;
  --brand-700: #0f766e;
  --brand-800: #115e59;
  --brand-900: #134e4a;

  --vanilla: #FAF9F6;
  --font-ui: ui-sans-serif, system-ui, -apple-system, "Segoe UI", "Cairo", "Tajawal", "Noto Kufi Arabic", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

html { font-family: var(--font-ui); }

body {
  @apply text-gray-800 bg-gray-50 dark:bg-gray-900 dark:text-white;
  transition: background-color .3s ease, color .3s ease;
}

/* الوضع الداكن: يمكن تعديل بعض الدرجات إذا رغبت */
.dark {
  --brand-600: #0d9488;
  --brand-700: #138079;
  --brand-800: #0f5f5a;
}

/* ===== Utilities scoped to brand ===== */
.brand-bg    { background-color: var(--brand-600) !important; }
.brand-bg-700{ background-color: var(--brand-700) !important; }
.brand-text  { color: #fff !important; }
.page-vanilla{ background-color: var(--vanilla) !important; }

/* زخرفة خفيفة */
.vanilla-pattern {
  background-color: var(--vanilla);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 28 28'%3E%3Cpath fill='%230d9488' fill-opacity='0.06' d='M14 0l2 4 4 2-4 2-2 4-2-4-4-2 4-2 2-4zM0 14l4-2 2-4 2 4 4 2-4 2-2 4-2-4-4-2zM14 28l2-4 4-2-4-2-2-4-2 4-4 2 4 2 2 4zM28 14l-4 2-2 4-2-4-4-2 4-2 2-4 2 4 4 2z'/%3E%3C/svg%3E");
  background-size: 28px 28px;
  background-attachment: fixed;
}
.dark .vanilla-pattern { background-image: none; background-color: #0f172a; }

.brandify :where(.card, .section, .box, .panel, .widget, .btn, button) {
  background-color: var(--brand-600) !important;
  color: #fff !important;
  border-color: var(--brand-700) !important;
}
.brandify :where(.btn, button) { transition: all .2s ease; }
.brandify :where(.btn:hover, button:hover) {
  background-color: var(--brand-700) !important;
  box-shadow: 0 0 0 6px color-mix(in oklab, var(--brand-600) 20%, transparent);
}

.card { border-radius: .9rem; }
.brand-bg{
  background-color: var(--brand-600) !important;
  background-image: linear-gradient(90deg, var(--brand-700), var(--brand-600));
}

.brand-scope .btn-primary{
  background: var(--brand-700);
  color: #fff;
  border-radius: .8rem;
  padding: .65rem 1.1rem;
}
.brand-scope .btn-primary:hover{ background: var(--brand-800); }

.vanilla-none{ background-image: none !important; }

a{ transition: color .15s ease, background-color .15s ease, opacity .15s ease; }

.dark .card{ background-color: #0f172a; border-color: #1e293b; }

/* ===== واجهة عامة ===== */
.container-app { @apply max-w-7xl mx-auto px-4; }
.toolbar { @apply flex items-center justify-between gap-2 mb-4; }
.panel { @apply border rounded-xl p-4 bg-white dark:bg-gray-900 dark:border-gray-800; }
.panel-muted { @apply border rounded-xl p-3 bg-gray-50 dark:bg-gray-800 dark:border-gray-700; }
.section-title { @apply text-xl font-semibold mb-3 text-gray-900 dark:text-white; }

/* Buttons */
.btn { @apply inline-flex items-center gap-2 border rounded-lg px-3 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors; }
.btn-primary { @apply bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-700 dark:bg-emerald-700 dark:hover:bg-emerald-800 dark:border-emerald-800; }
.btn-danger { @apply border-red-500 text-red-600 hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20; }

/* Badges */
.badge { @apply text-xs px-2 py-1 rounded-full border inline-block; }
.badge-available { @apply bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800; }
.badge-reserved  { @apply bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800; }
.badge-sold      { @apply bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800; }
.badge-rent      { @apply bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800; }
.badge-hold      { @apply bg-gray-50 text-gray-700 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700; }
.badge-planned   { @apply bg-slate-50 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700; }
.badge-selling   { @apply bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800; }
.badge-delivered { @apply bg-purple-50 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800; }

/* ===== Dark mode inputs ===== */
.dark input,
.dark select,
.dark textarea { @apply bg-gray-800 border-gray-700 text-white; }

/* كان سبب الخطأ هنا: هذه المرافق الآن موجودة بعد تعريف لوحة brand في tailwind.config.js */
.dark input:focus,
.dark select:focus,
.dark textarea:focus { @apply border-brand-600 ring-brand-500; }

/* Tables (dark) */
.dark table { @apply text-gray-300; }
.dark th { @apply bg-gray-800 text-gray-300 border-gray-700; }
.dark td { @apply border-gray-800; }
.dark tr:hover { @apply bg-gray-800/50; }

/* Nav (dark) */
.dark .nav-link { @apply text-gray-300 hover:text-white hover:bg-gray-800; }
.dark .nav-link.active { @apply bg-brand-700 text-white; }

/* Cards (dark) */
.dark .stat-card { @apply bg-gray-900 border-gray-800 text-white; }
.dark .stat-card h3 { @apply text-gray-400; }

/* Buttons (dark extra) */
.dark .btn-secondary { @apply bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700 hover:text-white; }

/* Forms (dark extra) */
.dark .form-label { @apply text-gray-300; }
.dark .form-hint { @apply text-gray-500; }

/* Header/Footer (dark) */
.dark .logo-text { @apply text-white; }
.dark .header { @apply bg-gray-900 border-gray-800; }
.dark .footer { @apply bg-gray-900 border-gray-800 text-gray-400; }

/* ===== Print ===== */
@media print {
  * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
  html, body { background: var(--vanilla) !important; }
  .no-print { display: none !important; }
  .print-block { display: block !important; }
  .container-app { max-width: none !important; padding: 0 12mm !important; }
  header, footer, .site-header, .site-footer { display: block !important; }
  a[href]:after { content: ""; }
  .panel, .panel-muted, .card, .badge { box-shadow: none !important; border: 1px solid #e5e7eb !important; }
  .badge { background-color: #f3f4f6 !important; color: #374151 !important; }
  @page { margin: 10mm; }
}

/* ===== Animations ===== */
.fade-in { animation: fadeIn .3s ease-in-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.slide-in { animation: slideIn .3s ease-out; }
@keyframes slideIn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
.loading-spinner { animation: spin 1s linear infinite; }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* Sidebar */
.sidebar { transition: transform .3s ease; }
@media (max-width: 768px) {
  .sidebar { transform: translateX(-100%); }
  .sidebar.open { transform: translateX(0); }
}

/* Header */
.header { @apply bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm; transition: all .3s ease; }

/* Dashboard grid */
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }

/* Small screens */
@media (max-width: 640px) {
  .container-app { @apply px-3; }
  .toolbar { @apply flex-col items-stretch; }
  .dashboard-grid { grid-template-columns: 1fr; }
}

/* Arabic fonts */
.arabic-font { font-family: "Cairo", "Tajawal", "Noto Kufi Arabic", sans-serif; }

/* RTL helpers */
[dir="rtl"] .text-left { text-align: right; }
[dir="rtl"] .text-right { text-align: left; }
[dir="rtl"] .ml-2 { margin-left: 0; margin-right: .5rem; }
[dir="rtl"] .mr-2 { margin-right: 0; margin-left: .5rem; }

/* A11y */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; }
}

/* Focus ring helper using brand */
.focus\:ring-brand:focus { box-shadow: 0 0 0 3px color-mix(in srgb, var(--brand-500) 40%, transparent); }

/* Headings */
h1, h2, h3, h4, h5, h6 { @apply font-semibold text-gray-900 dark:text-white; }
h1 { @apply text-2xl md:text-3xl; }
h2 { @apply text-xl md:text-2xl; }
h3 { @apply text-lg md:text-xl; }

/* Forms */
label { @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2; }
input, select, textarea {
  @apply w-full px-4 py-2 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-brand-500 focus:border-transparent transition-colors;
}

/* Links use brand */
a { @apply text-brand-600 hover:text-brand-700 dark:text-brand-400 dark:hover:text-brand-300 transition-colors; }

/* Badges extra */
.badge { @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium; }
.badge-success { @apply badge bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300; }
.badge-warning { @apply badge bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300; }
.badge-error   { @apply badge bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300; }
.badge-info    { @apply badge bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300; }
