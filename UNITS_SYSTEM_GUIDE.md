# ๐ข ุฏููู ูุธุงู ุงููุญุฏุงุช ุงููููุตูุฉ

## ๐ ุงูููุฑุฉ ุงูุฃุณุงุณูุฉ

ุนูุฏ ุฅุถุงูุฉ **ูุจูู ูุชุนุฏุฏ ุงููุญุฏุงุช**ุ ูููู ุงููุธุงู ุจู:

1. โ ุญูุธ **ุงูุนูุงุฑ ุงูุฃู** (Parent Property) - ูุนูููุงุช ุงููุจูู ุงูุฃุณุงุณูุฉ
2. โ ุญูุธ **ูู ูุญุฏุฉ ูุนูุงุฑ ูููุตู** (Unit Property) - ููุง ูุนุฑู ูุฅุฏุงุฑุฉ ุฎุงุตุฉ
3. โ ูุณุฎ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ูู ุงูุฃู ูููุญุฏุงุช (ูุงุจูุฉ ููุชุนุฏูู ูุงุญูุงู)

---

## ๐ ุงูุนูุงูุฉ ุจูู ุงูุนูุงุฑ ุงูุฃู ูุงููุญุฏุงุช

```
๐ข ุนูุงุฑ ุฃู (Parent Property)
โโโ id: "P-123456"
โโโ referenceNo: "P-123456"
โโโ isParent: true
โโโ buildingType: "multi"
โโโ totalUnits: 5
โโโ published: false (ูุฎูู - ููุฅุฏุงุฑุฉ ููุท)

    โ ููุดุฆ โ

๐ช ูุญุฏุฉ A-101 (ุนูุงุฑ ูููุตู)
โโโ id: "P-123456-UNIT-A101-789456"
โโโ referenceNo: "UNIT-1234-A101-789456"
โโโ isUnit: true
โโโ parentPropertyId: "P-123456"
โโโ unitNo: "A-101"
โโโ buildingType: "single"
โโโ published: true (ููุดูุฑ ููุนููุงุก)

๐ช ูุญุฏุฉ A-102 (ุนูุงุฑ ูููุตู)
โโโ id: "P-123456-UNIT-A102-789457"
โโโ referenceNo: "UNIT-1234-A102-789457"
โโโ isUnit: true
โโโ parentPropertyId: "P-123456"
โโโ ...
```

---

## ๐ ุงูุจูุงูุงุช ุงูููุณูุฎุฉ ูู ุงูุนูุงุฑ ุงูุฃู

ุนูุฏ ุฅูุดุงุก ูุญุฏุฉ ุฌุฏูุฏุฉุ ูุชู ูุณุฎ:

### 1๏ธโฃ ูุนูููุงุช ุงููููุน ุงูุฃุณุงุณูุฉ (Location):
- โ `province` - ุงููุญุงูุธุฉ
- โ `state` - ุงูููุงูุฉ
- โ `city` - ุงููุฏููุฉ
- โ `village` - ุงููุฑูุฉ
- โ `address` - ุงูุนููุงู (+ "- ูุญุฏุฉ A-101")

### 2๏ธโฃ ุงููููุน ุนูู ุงูุฎุฑูุทุฉ (GPS):
- โ `latitude` - ุฎุท ุงูุนุฑุถ
- โ `longitude` - ุฎุท ุงูุทูู
- โ `mapAddress` - ุนููุงู ุงูุฎุฑูุทุฉ

### 3๏ธโฃ ุงูุชูุงุตูู ุงูุนุงูุฉ:
- โ `usageType` - ููุน ุงูุงุณุชุฎุฏุงู (ุณูููุ ุชุฌุงุฑู)
- โ `buildingAge` - ุนูุฑ ุงููุจูู
- โ `descriptionAr` - ุงููุตู ุงูุนุฑุจู
- โ `descriptionEn` - ุงููุตู ุงูุฅูุฌููุฒู

### 4๏ธโฃ ุงููุฒุงูุง ูุงูุฎุฏูุงุช:
- โ `amenities` - ุงููุฒุงูุง (ูุตุนุฏุ ููููุ ุญุฏููุฉ...)
- โ `customAmenities` - ูุฒุงูุง ูุฎุตุตุฉ

### 5๏ธโฃ ุงููุนูููุงุช ุงูุฅุฏุงุฑูุฉ:
- โ `surveyNumber` - ุฑูู ุงูุฑุณู ุงููุณุงุญู
- โ `landNumber` - ุฑูู ุงูุฃุฑุถ
- โ `notes` - ููุงุญุธุงุช ุฅุถุงููุฉ

### 6๏ธโฃ ูุนูููุงุช ุงููุงูู:
- โ `ownerName` - ุงุณู ุงููุงูู
- โ `ownerPhone` - ูุงุชู ุงููุงูู
- โ `ownerEmail` - ุจุฑูุฏ ุงููุงูู

---

## ๐ง ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูู ูุญุฏุฉ (ูุงุจูุฉ ููุชุนุฏูู)

### ูุนูููุงุช ูุฑูุฏุฉ ููู ูุญุฏุฉ:
- ๐ท๏ธ `unitNo` - ุฑูู ุงููุญุฏุฉ (A-101, B-205...)
- ๐ข `floor` - ุงูุทุงุจู
- ๐ `type` - ููุน ุงููุญุฏุฉ (ุดูุฉุ ุงุณุชูุฏูู...)
- ๐ `area` - ุงููุณุงุญุฉ
- ๐๏ธ `beds` - ุนุฏุฏ ุงูุบุฑู
- ๐ `baths` - ุนุฏุฏ ุงูุญูุงูุงุช
- ๐ฐ `priceOMR` - ุงูุณุนุฑ
- ๐ต `rentalPrice` - ุณุนุฑ ุงูุฅูุฌุงุฑ
- ๐ธ `images` - ุตูุฑ ุงููุญุฏุฉ ุงูุฎุงุตุฉ
- ๐น `videoUrl` - ููุฏูู ุงููุญุฏุฉ
- ๐ค `tenantName` - ุงุณู ุงููุณุชุฃุฌุฑ
- ๐ `leaseEndDate` - ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนูุฏ
- โ `published` - ุญุงูุฉ ุงููุดุฑ

---

## ๐ฏ ููู ูุนูู ุงููุธุงูุ

### ุนูุฏ ุฅุถุงูุฉ ุนูุงุฑ ูุชุนุฏุฏ ุงููุญุฏุงุช:

#### ุงูุฎุทูุฉ 1: ุงููุณุชุฎุฏู ูููุฃ ุงููููุฐุฌ
```
ุงูุนููุงู: "ุจุฑุฌ ุงูุณูุงู"
ุงููููุน: ูุณูุท - ุงูุณูุจ
ุงููุฒุงูุง: ูุตุนุฏุ ููููุ ุญุฏููุฉ
ุงููุตู: "ุจุฑุฌ ุณููู ุญุฏูุซ..."
ุฑูู ุงูุฑุณู: 12345
...

ุงููุญุฏุงุช:
- A-101: 3 ุบุฑูุ 120ูยฒุ 500 ุฑ.ุน
- A-102: 4 ุบุฑูุ 150ูยฒุ 650 ุฑ.ุน
- B-201: 2 ุบุฑูุ 90ูยฒุ 400 ุฑ.ุน
```

#### ุงูุฎุทูุฉ 2: ุงููุธุงู ูุญูุธ:

**ุนูุงุฑ ุฃู ูุงุญุฏ:**
```json
{
  "id": "P-20250123-001",
  "referenceNo": "P-20250123-001",
  "isParent": true,
  "titleAr": "ุจุฑุฌ ุงูุณูุงู",
  "province": "ูุณูุท",
  "state": "ุงูุณูุจ",
  "amenities": ["elevator", "parking", "garden"],
  "surveyNumber": "12345",
  "published": false,
  "totalUnits": 3
}
```

**3 ุนูุงุฑุงุช ูููุตูุฉ ูููุญุฏุงุช:**
```json
[
  {
    "id": "P-20250123-001-UNIT-A101-789456",
    "referenceNo": "UNIT-0001-A101-789456",
    "isUnit": true,
    "parentPropertyId": "P-20250123-001",
    "unitNo": "A-101",
    "titleAr": "ูุญุฏุฉ A-101 - ุจุฑุฌ ุงูุณูุงู",
    "province": "ูุณูุท",  // ููุณูุฎ
    "state": "ุงูุณูุจ",     // ููุณูุฎ
    "amenities": ["elevator", "parking", "garden"],  // ููุณูุฎ
    "surveyNumber": "12345",  // ููุณูุฎ
    "area": "120",  // ุฎุงุต ุจุงููุญุฏุฉ
    "beds": "3",    // ุฎุงุต ุจุงููุญุฏุฉ
    "rentalPrice": "500",  // ุฎุงุต ุจุงููุญุฏุฉ
    "images": [...],  // ุฎุงุต ุจุงููุญุฏุฉ
    "published": true  // ููุดูุฑ ููุนููุงุก
  },
  {
    "id": "P-20250123-001-UNIT-A102-789457",
    "referenceNo": "UNIT-0001-A102-789457",
    // ... ููุณ ุงูุจูุงูุงุช ุงูููุณูุฎุฉ + ุชูุงุตูู ุงููุญุฏุฉ
  }
]
```

---

## ๐ ููู ุชุนูู ุงูุฃุฒุฑุงุฑุ

### ุฒุฑ "ุนุฑุถ" ๐๏ธ:
```
/properties/UNIT-0001-A101-789456
```
- ูุนุฑุถ **ุชูุงุตูู ุงููุญุฏุฉ ููุท**
- **ููุณ** ุงูุนูุงุฑ ุงูุฃู

### ุฒุฑ "ุชุนุฏูู" โ๏ธ:
```
/properties/UNIT-0001-A101-789456/edit
```
- ูุญุฑุฑ **ุงููุญุฏุฉ ููุท**
- ููููู ุชุนุฏูู:
  - ุนููุงู ุงููุญุฏุฉ
  - ุงููุตู
  - ุงููุฒุงูุง
  - ุงููููุน (ุฅุฐุง ุงุฎุชูู)
  - ููุงุญุธุงุช ุงููุญุฏุฉ
  - ... ูู ุดูุก

### ุฒุฑ "ูุดุฑ/ุฅุฎูุงุก" ๐:
```
PATCH /api/units/UNIT-0001-A101-789456
{ "published": true/false }
```
- ููุดุฑ/ูุฎูู **ุงููุญุฏุฉ ููุท**
- ุงูุนูุงุฑ ุงูุฃู ูุจูู ููุง ูู

### ุฒุฑ "ุฃุฑุดูุฉ" ๐ฆ:
```
PATCH /api/units/UNIT-0001-A101-789456
{ "status": "archived", "published": false }
```
- ูุคุฑุดู **ุงููุญุฏุฉ ููุท**

### ุฒุฑ "ุญุฐู" ๐๏ธ:
```
DELETE /api/units/UNIT-0001-A101-789456
```
- ูุญุฐู **ุงููุญุฏุฉ ููุท**
- ุงูุนูุงุฑ ุงูุฃู ูุงููุญุฏุงุช ุงูุฃุฎุฑู ุชุจูู

---

## ๐จ ูู ูุงุฌูุฉ `/properties/unified-management`:

### ุนุฑุถ ุงููุจูู:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ข ุจุฑุฌ ุงูุณูุงู (ุงูุนูุงุฑ ุงูุฃู)      โ
โ  ๐ ูุณูุท - ุงูุณูุจ                  โ
โ  ๐ 3 ูุญุฏุงุช                        โ
โ  [ุนุฑุถ ุงููุญุฏุงุช โผ]                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ๏ธ ุชุญุฏูุฏ ุงููู (3 ูุญุฏุงุช)          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ช ูุญุฏุฉ A-101                     โ
โ     UNIT-0001-A101-789456 [ูุณุฎ]    โ
โ     ๐ 120ูยฒ | ๐๏ธ 3 | ๐ฐ 500 ุฑ.ุน   โ
โ     [ุนุฑุถ][ุชุนุฏูู][ูุดุฑ][ุฃุฑุดูุฉ][ุญุฐู]โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ช ูุญุฏุฉ A-102                     โ
โ     UNIT-0001-A102-789457 [ูุณุฎ]    โ
โ     ...                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

### 1๏ธโฃ ุงูุนูุงุฑ ุงูุฃู:
- **ูุฎูู** ุนู ุงูุนููุงุก (published: false)
- ูุณุชุฎุฏู **ููุฅุฏุงุฑุฉ ููุท**
- ูุญุชูู ุนูู ุงููุนูููุงุช ุงููุดุชุฑูุฉ

### 2๏ธโฃ ุงููุญุฏุงุช:
- **ููุดูุฑุฉ** ููุนููุงุก (published: true)
- ูู ูุญุฏุฉ **ุนูุงุฑ ูุณุชูู** ุชูุงูุงู
- ูููู ุชุนุฏูููุง ุจุฏูู ุงูุชุฃุซูุฑ ุนูู ุงูุฃู

### 3๏ธโฃ ูุณุฎ ุงูุจูุงูุงุช:
- ุงูุจูุงูุงุช **ุชููุณุฎ ูุฑุฉ ูุงุญุฏุฉ** ุนูุฏ ุงูุฅูุดุงุก
- ุจุนุฏ ุฐูู **ูู ูุญุฏุฉ ูุณุชููุฉ**
- ุชุนุฏูู ุงููุญุฏุฉ **ูุง ูุคุซุฑ** ุนูู ุงูุฃู
- ุชุนุฏูู ุงูุฃู **ูุง ูุคุซุฑ** ุนูู ุงููุญุฏุงุช

### 4๏ธโฃ ุงูุฃุฑูุงู ุงููุชุณูุณูุฉ:
```
ุงูุนูุงุฑ ุงูุฃู: P-20250123-001
ุงููุญุฏุฉ A-101: UNIT-0001-A101-789456
ุงููุญุฏุฉ A-102: UNIT-0001-A102-789457
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1๏ธโฃ ุฅุถุงูุฉ ูุจูู ุฌุฏูุฏ:
```
1. ุงุฐูุจ ุฅูู /properties/new
2. ุงุฎุชุฑ "ูุจูู ูุชุนุฏุฏ ุงููุญุฏุงุช"
3. ุงููุฃ ูุนูููุงุช ุงููุจูู:
   - ุงูุนููุงู
   - ุงููููุน
   - ุงููุฒุงูุง
   - ุงููุตู
   - ุฑูู ุงูุฑุณู ุงููุณุงุญู
   - ...
4. ุฃุถู ุงููุญุฏุงุช:
   - ูุญุฏุฉ A-101
   - ูุญุฏุฉ A-102
   - ...
5. ุงุญูุธ
```

**ุงููุชูุฌุฉ:**
- โ ุนูุงุฑ ุฃู ูุงุญุฏ (ูุฎูู)
- โ X ุนูุงุฑุงุช ูููุตูุฉ ูููุญุฏุงุช (ููุดูุฑุฉ)

### 2๏ธโฃ ุฅุฏุงุฑุฉ ุงููุญุฏุงุช:
```
1. ุงุฐูุจ ุฅูู /properties/unified-management
2. ุงุจุญุซ ุนู ุงููุจูู
3. ุงุถุบุท "ุนุฑุถ ุงููุญุฏุงุช"
4. ูู ูุญุฏุฉ ููุง ุฃุฒุฑุงุฑูุง:
   - ุนุฑุถ โ ุตูุญุฉ ุงููุญุฏุฉ ููุท
   - ุชุนุฏูู โ ุชุนุฏูู ุงููุญุฏุฉ ููุท
   - ูุดุฑ/ุฅุฎูุงุก โ ุงููุญุฏุฉ ููุท
   - ุฃุฑุดูุฉ โ ุงููุญุฏุฉ ููุท
   - ุญุฐู โ ุงููุญุฏุฉ ููุท
```

### 3๏ธโฃ ุชุนุฏูู ูุญุฏุฉ:
```
1. ุงุถุบุท "ุชุนุฏูู" ุนูู ุงููุญุฏุฉ
2. ุณุชูุชุญ ุตูุญุฉ ุงูุชุนุฏูู ูููุญุฏุฉ
3. ุฌููุน ุงูุจูุงูุงุช ูุงุจูุฉ ููุชุนุฏูู:
   - ุงูุนููุงู (ููููู ุชุบููุฑู!)
   - ุงููุตู (ููููู ุชุฎุตูุตู!)
   - ุงููุฒุงูุง (ููููู ุฅุถุงูุฉ/ุญุฐู!)
   - ุงููููุน (ุฅุฐุง ุงุฎุชูู!)
   - ููุงุญุธุงุช ุฎุงุตุฉ ุจุงููุญุฏุฉ
4. ุงุญูุธ
```

**ุงููุชูุฌุฉ:** ุชุชุญุฏุซ **ุงููุญุฏุฉ ููุท** โ

---

## ๐ฏ ูุซุงู ุนููู

### ุงูุณููุงุฑูู:
ูุฏูู **ุจุฑุฌ ุงูุณูุงู** ุจู 10 ูุญุฏุงุช.

### ูุจู ุงููุธุงู ุงูุฌุฏูุฏ โ:
```
- 1 ุนูุงุฑ ููุท
- ุงููุญุฏุงุช ูุฎุฒูุฉ ุฏุงุฎู units[]
- ูุง ูููู ุฅุฏุงุฑุฉ ูู ูุญุฏุฉ ูููุตูุฉ
- ุชุนุฏูู ุงููุญุฏุฉ ูุนูู ุชุนุฏูู ุงูุนูุงุฑ ููู
```

### ูุน ุงููุธุงู ุงูุฌุฏูุฏ โ:
```
- 11 ุนูุงุฑ:
  - 1 ุนูุงุฑ ุฃู (Parent)
  - 10 ุนูุงุฑุงุช ูููุญุฏุงุช (Units)
  
- ูู ูุญุฏุฉ ูุณุชููุฉ ุชูุงูุงู
- ููููู:
  โ ุนุฑุถ ุชูุงุตูู ุงููุญุฏุฉ A-101 ููุท
  โ ุชุนุฏูู ูุตู ุงููุญุฏุฉ B-205 ููุท
  โ ูุดุฑ ุงููุญุฏุฉ C-301 ูุฅุฎูุงุก D-402
  โ ุชุฃุฌูุฑ ูู ูุญุฏุฉ ููุณุชุฃุฌุฑ ูุฎุชูู
  โ ุฃุฑุดูุฉ/ุญุฐู ูุญุฏุงุช ูุญุฏุฏุฉ
```

---

## ๐ ุงููููุงุช

### ุงููููุงุช ุงูุฌุฏูุฏุฉ:
```
src/lib/unitPropertySystem.ts        - ูุธุงู ุงููุญุฏุงุช
src/lib/propertyUnitConverter.ts     - ุชุญููู ููุณุฎ ุงูุจูุงูุงุช
src/pages/api/units/[id].ts          - API ุฅุฏุงุฑุฉ ุงููุญุฏุงุช
src/components/property/BuildingUnitsManager.tsx - ูููู ุงูุนุฑุถ
```

### APIs:
```
GET    /api/units/[id]        - ุนุฑุถ ุงููุญุฏุฉ
PUT    /api/units/[id]        - ุชุญุฏูุซ ุงููุญุฏุฉ
PATCH  /api/units/[id]        - ุชุญุฏูุซ ุฌุฒุฆู (ูุดุฑุ ุฃุฑุดูุฉ)
DELETE /api/units/[id]        - ุญุฐู ุงููุญุฏุฉ
```

---

## โ ุงููููุฒุงุช

1. โ **ูู ูุญุฏุฉ ุนูุงุฑ ูููุตู** - ููุง ุตูุญุชูุง ุงูุฎุงุตุฉ
2. โ **ุฑูู ูุชุณูุณู ูุฑูุฏ** - UNIT-XXXX-XXXX-XXXXXX
3. โ **ูุณุฎ ุชููุงุฆู** - ููุจูุงูุงุช ุงูุฃุณุงุณูุฉ ูู ุงูุฃู
4. โ **ูุงุจู ููุชุนุฏูู** - ูู ูุญุฏุฉ ูููู ุชุฎุตูุตูุง
5. โ **ุฅุฏุงุฑุฉ ูููุตูุฉ** - ุนุฑุถุ ุชุนุฏููุ ูุดุฑุ ุฃุฑุดูุฉุ ุญุฐู
6. โ **ุชุฃุฌูุฑ ูุฑู** - ูู ูุญุฏุฉ ููุณุชุฃุฌุฑ ูุฎุชูู
7. โ **ุนุฑุถ ุงุญุชุฑุงูู** - ูู unified-management
8. โ **ุชุญุฏูุฏ ุฌูุงุนู** - ูุนูููุงุช ุนูู ุนุฏุฉ ูุญุฏุงุช

---

## ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ

โ๏ธ **ุงููุธุงู ุฌุงูุฒ ููุงุฎุชุจุงุฑ!**

ููู ูุฌุจ ุชุญุฏูุซ:
- โ `/properties/new` - ูุญูุธ ุงููุญุฏุงุช ุงููููุตูุฉ
- โ `/properties/[id]/edit` - ูุชุญุฏูุซ ุงูุนูุงุฑ ุงูุฃู + ุงููุญุฏุงุช
- โ `/properties/unified-management` - ูุนูู ุจุงููุนู!

---

**๐ ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 23 ููุงูุฑ 2025  
**๐ฏ ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุชุทููุฑ ุงููุงูู

