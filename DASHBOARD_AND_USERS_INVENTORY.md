# ๐ ุฅุญุตุงุก ุดุงูู: ููุญุงุช ุงูุชุญูู ูุฃููุงุน ุงููุณุชุฎุฏููู

## ๐๏ธ ููุญุงุช ุงูุชุญูู ุงูููุฌูุฏุฉ (14 ููุญุฉ)

### ุงููููุงุช ูู `src/pages/dashboard/`:

| # | ุงูููู | ุงูุฑุงุจุท | ุงูุฏูุฑ ุงููุณุชูุฏู |
|---|-------|--------|----------------|
| 1 | `index.tsx` | `/dashboard` | ุตูุญุฉ ุงุฎุชูุงุฑ ุงูููุญุฉ |
| 2 | `admin.tsx` | `/dashboard/admin` | ุงููุฏูุฑ ุงูุนุงู |
| 3 | `owner.tsx` | `/dashboard/owner` | ูุงูู ุงูุนูุงุฑ |
| 4 | `property-owner.tsx` | `/dashboard/property-owner` | ูุงูู ุงูุนูุงุฑ (ูุณุฎุฉ 2) |
| 5 | `landlord.tsx` | `/dashboard/landlord` | ุงููุคุฌุฑ |
| 6 | `tenant.tsx` | `/dashboard/tenant` | ุงููุณุชุฃุฌุฑ |
| 7 | `customer.tsx` | `/dashboard/customer` | ุงูุนููู |
| 8 | `corporate-tenant.tsx` | `/dashboard/corporate-tenant` | ูุณุชุฃุฌุฑ ุดุฑูุฉ |
| 9 | `investor.tsx` | `/dashboard/investor` | ุงููุณุชุซูุฑ |
| 10 | `developer.tsx` | `/dashboard/developer` | ุงููุทูุฑ ุงูุนูุงุฑู |
| 11 | `agency.tsx` | `/dashboard/agency` | ุงูููุงูุฉ ุงูุนูุงุฑูุฉ |
| 12 | `hoa.tsx` | `/dashboard/hoa` | ุฌูุนูุฉ ุงูููุงู |
| 13 | `advanced.tsx` | `/dashboard/advanced` | ููุญุฉ ูุชูุฏูุฉ |
| 14 | `widgets.tsx` | `/dashboard/widgets` | Widgets |

### ููุญุงุช ูุฑุนูุฉ:
- `auctions/index.tsx` - `/dashboard/auctions` - ููุญุฉ ุงููุฒุงุฏุงุช
- `messages/index.tsx` - `/dashboard/messages` - ุงูุฑุณุงุฆู
- `requests/index.tsx` - `/dashboard/requests` - ุงูุทูุจุงุช

---

## ๐ฅ ุฃููุงุน ุงููุณุชุฎุฏููู ุงูููุฌูุฏุฉ

### ูู `src/pages/dashboard/index.tsx`:

| # | ุงููุนุฑู | ุงูุงุณู | ุงููุตู | ุงูููู |
|---|--------|-------|-------|-------|
| 1 | `admin` | ุฅุฏุงุฑุฉ ุงููุธุงู | ุงููุฏูุฑ ุงูุนุงู ูููููุน | ๐ด ุฃุญูุฑ |
| 2 | `property-owner` | ูุงูู ุงูุนูุงุฑ | ุฅุฏุงุฑุฉ ุนูุงุฑุงุชู | ๐ข ุฃุฎุถุฑ |
| 3 | `customer` | ุงูุนููู | ุนุฑุถ ุญุฌูุฒุงุชู | ๐ต ุฃุฒุฑู |

### ูู ูููุงุช ุงูููุญุงุช ุงูุฃุฎุฑู:

| # | ุงูุฏูุฑ | ุงูููู | ุงูุงุณุชุฎุฏุงู |
|---|-------|-------|-----------|
| 4 | `owner` | `owner.tsx` | ูุงูู ุนูุงุฑ (ุจุฏูู) |
| 5 | `landlord` | `landlord.tsx` | ุงููุคุฌุฑ |
| 6 | `tenant` | `tenant.tsx` | ุงููุณุชุฃุฌุฑ |
| 7 | `corporate_tenant` | `corporate-tenant.tsx` | ูุณุชุฃุฌุฑ ุดุฑูุฉ |
| 8 | `investor` | `investor.tsx` | ูุณุชุซูุฑ ุนูุงุฑู |
| 9 | `developer` | `developer.tsx` | ูุทูุฑ ุนูุงุฑู |
| 10 | `agency` | `agency.tsx` | ููุงูุฉ ุนูุงุฑูุฉ |
| 11 | `hoa` | `hoa.tsx` | ุฌูุนูุฉ ููุงู |
| 12 | `broker` | (ูุฐููุฑ ูู ุงูููุฏ) | ูุณูุท ุนูุงุฑู |
| 13 | `company` | (ูุฐููุฑ ูู ุงูููุฏ) | ุดุฑูุฉ |

### ูู `src/pages/api/auth/verify-otp.ts`:

| ุงูุฏูุฑ ุงูุงูุชุฑุงุถู | ุงููููุฉ |
|-----------------|--------|
| ุงูุชุฑุงุถู | `individual_tenant` |

---

## ๐ ุงูุชุญููู - ุงููุดุงูู ุงูููุฌูุฏุฉ:

### โ **ุชูุฑุงุฑ ูู ุงูููุญุงุช:**

1. **ูุงูู ุงูุนูุงุฑ - 3 ูุณุฎ!**
   - `owner.tsx`
   - `property-owner.tsx`
   - `landlord.tsx`
   
   **ุงูุณุจุจ:** ููุณ ุงูุฏูุฑุ ุฃุณูุงุก ูุฎุชููุฉ

2. **ุงููุณุชุฃุฌุฑ - 2 ูุณุฎ!**
   - `tenant.tsx`
   - `corporate-tenant.tsx`
   
   **ุงููุฑู:** ูุฑุฏู vs ุดุฑูุฉ

---

### โ **ุฃุฏูุงุฑ ุบูุฑ ูุญุฏุฏุฉ ุจูุถูุญ:**

```typescript
// ูู dashboard/index.tsx:
if (['owner', 'developer', 'company', 'broker'].includes(role)) {
  // ููุณ ุงูููุญุฉ!
}
```

**ุงููุดููุฉ:** 4 ุฃุฏูุงุฑ ูุฎุชููุฉ โ ููุณ ุงูููุญุฉ

---

## ๐ฏ ุงูุฃุฏูุงุฑ ุงูููุตู ุจูุง (ูุจุณูุทุฉ):

### ุงููุธุงู ุงูููุชุฑุญ (7 ุฃุฏูุงุฑ ููุท):

| # | ุงูุฏูุฑ | ุงูููุฏ | ุงููุตู | ุงูููุญุฉ |
|---|-------|------|-------|--------|
| 1 | **ุงููุฏูุฑ** | `admin` | ุฅุฏุงุฑุฉ ุงููุธุงู | `/dashboard/admin` |
| 2 | **ูุงูู ุงูุนูุงุฑ** | `property_owner` | ุฅุฏุงุฑุฉ ุนูุงุฑุงุชู | `/dashboard/property-owner` |
| 3 | **ูุฏูุฑ ุงูุนูุงุฑ** | `property_manager` | ุฅุฏุงุฑุฉ ูุญุฏูุฏุฉ | `/dashboard/property-owner` |
| 4 | **ุงููุณุชุฃุฌุฑ (ูุฑุฏ)** | `tenant` | ุนุฑุถ ูุญุฏุชู | `/dashboard/tenant` |
| 5 | **ุงููุณุชุฃุฌุฑ (ุดุฑูุฉ)** | `corporate_tenant` | ุนุฑุถ ูุญุฏุงุชู | `/dashboard/corporate-tenant` |
| 6 | **ุงููุณุชุซูุฑ/ุงููุทูุฑ** | `investor` | ูุชุงุจุนุฉ ุงุณุชุซูุงุฑุงุชู | `/dashboard/investor` |
| 7 | **ูุณุชุฎุฏู ุนุงุฏู** | `user` | ุชุตูุญ ูุญุฌุฒ | `/profile` |

---

## ๐ ูุตูููุฉ ุงูุตูุงุญูุงุช ุงูููุชุฑุญุฉ:

| ุงููุธููุฉ | Admin | Owner | Manager | Tenant | Investor | User |
|---------|-------|-------|---------|--------|----------|------|
| **ุฑุคูุฉ ุฌููุน ุงูุนูุงุฑุงุช** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ุนูุงุฑุงุชู** | โ | โ | โ | โ | โ | โ |
| **ุฅุถุงูุฉ ุนูุงุฑ** | โ | โ | โ | โ | โ | โ |
| **ุชุนุฏูู ุนูุงุฑ** | โ | โ | โ* | โ | โ | โ |
| **ุญุฐู ุนูุงุฑ** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ุฌููุน ุงููุญุฏุงุช** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ูุญุฏุงุชู** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ุฌููุน ุงูููุงู** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ููุงูู** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ุฌููุน ุงูููุงุชูุฑ** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ููุงุชูุฑู** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ุฌููุน ุงูุญุฌูุฒุงุช** | โ | โ | โ | โ | โ | โ |
| **ุฑุคูุฉ ุญุฌูุฒุงุชู** | โ | โ | โ | โ | โ | โ |
| **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู** | โ | โ | โ | โ | โ | โ |
| **ุฅุฏุงุฑุฉ ุงูุจุงูุงุช** | โ | โ | โ | โ | โ | โ |

`*` ุจุตูุงุญูุงุช ูุญุฏุฏุฉ ูู ุงููุงูู

---

## ๐ ุงูุฑุจุท ุงููุทููุจ:

### 1. **ุฑุจุท ุงูุตูุญุงุช ุจุงูุฃุฏูุงุฑ:**

```typescript
// src/pages/properties/unified-management.tsx
const user = getCurrentUser();

// ููุชุฑุฉ ุงูุนูุงุฑุงุช
const myProperties = filterPropertiesByRole(allProperties, user);
// ุงููุชูุฌุฉ: ููุท ุนูุงุฑุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
```

### 2. **ุฑุจุท ุงููุญุฏุงุช:**

```typescript
// src/pages/admin/units/index.tsx
const user = getCurrentUser();

if (user.role !== 'admin') {
  return <div>ุบูุฑ ูุตุฑุญ - ูููุฏูุฑูู ููุท</div>;
}

// ุนุฑุถ ุฌููุน ุงููุญุฏุงุช (Admin only)
```

### 3. **ุฑุจุท ุงูููุงู:**

```typescript
// src/pages/tasks/index.tsx
const user = getCurrentUser();
const myTasks = filterTasksByRole(allTasks, user);
```

### 4. **ุฑุจุท ุงูููุงุชูุฑ:**

```typescript
// src/pages/invoices/index.tsx
const user = getCurrentUser();
const myInvoices = filterInvoicesByRole(allInvoices, user);
```

---

## ๐ ุงููููุงุช ุงูููุดุฃุฉ:

โ **`src/lib/rbac.ts`** - ูุธุงู RBAC ุงููุงูู:
- `filterPropertiesByRole()` - ููุชุฑุฉ ุงูุนูุงุฑุงุช
- `filterUnitsByRole()` - ููุชุฑุฉ ุงููุญุฏุงุช
- `filterTasksByRole()` - ููุชุฑุฉ ุงูููุงู
- `filterInvoicesByRole()` - ููุชุฑุฉ ุงูููุงุชูุฑ
- `filterBookingsByRole()` - ููุชุฑุฉ ุงูุญุฌูุฒุงุช
- `filterLegalCasesByRole()` - ููุชุฑุฉ ุงููุถุงูุง
- `canAccessProperty()` - ูุญุต ุงููุตูู
- `canEditProperty()` - ูุญุต ุงูุชุนุฏูู
- `canDeleteProperty()` - ูุญุต ุงูุญุฐู
- `getCurrentUser()` - ุงูุญุตูู ุนูู ุงููุณุชุฎุฏู

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุชุฑุญุฉ:

### ุงูุฎูุงุฑ A: **ุชุทุจูู RBAC ููุฑุงู**
```
1. ุชุทุจูู ููุชุฑุฉ ุนูู /properties/unified-management
2. ุชุทุจูู ููุชุฑุฉ ุนูู /profile
3. ุชุทุจูู ููุชุฑุฉ ุนูู /property/[id]/admin
4. ุชุทุจูู ููุชุฑุฉ ุนูู /admin/units (Admin only)
5. ุงุฎุชุจุงุฑ ุดุงูู
```

### ุงูุฎูุงุฑ B: **ุฅูุดุงุก ูุธุงู ุงููุณุชุฎุฏููู ุฃููุงู**
```
1. ุฅูุดุงุก /admin/users (ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู)
2. ุชุนููู ุงูุฃุฏูุงุฑ (Admin, Owner, Tenant, etc.)
3. ุฑุจุท ุงููุณุชุฎุฏููู ุจุงูุนูุงุฑุงุช
4. ุซู ุชุทุจูู RBAC
```

### ุงูุฎูุงุฑ C: **ุฏูุฌ ุงูููุญุงุช ุงูููุฑุฑุฉ**
```
1. ุฏูุฌ owner.tsx + property-owner.tsx + landlord.tsx
   โ ููุญุฉ ูุงุญุฏุฉ: /dashboard/property-owner

2. ุฏูุฌ tenant.tsx + corporate-tenant.tsx
   โ ููุญุฉ ูุงุญุฏุฉ: /dashboard/tenant
   โ ูุน ูุญุต: isCorporate

3. ุญุฐู ุงููููุงุช ุงูููุฑุฑุฉ
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช:

- **ุฅุฌูุงูู ููุญุงุช ุงูุชุญูู:** 14 ููุญุฉ (+ 3 ูุฑุนูุฉ)
- **ุฃุฏูุงุฑ ูุญุฏุฏุฉ ูู ุงูููุฏ:** 13 ุฏูุฑ
- **ุฃุฏูุงุฑ ููุตู ุจูุง:** 7 ุฃุฏูุงุฑ
- **ุชูุฑุงุฑ ูู ุงูููุญุงุช:** 5 ููุญุงุช ููุฑุฑุฉ
- **ุตูุญุงุช ุชุญุชุงุฌ RBAC:** 50+ ุตูุญุฉ

---

## ๐ก ุชูุตูุชู:

**ุงูุชุฑุชูุจ ุงูุฃูุซู:**

```
1๏ธโฃ ุฅูุดุงุก ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (/admin/users)
   โ
2๏ธโฃ ุชุนููู ุงูุฃุฏูุงุฑ ุงููุงุถุญุฉ (7 ุฃุฏูุงุฑ)
   โ
3๏ธโฃ ุฏูุฌ ุงูููุญุงุช ุงูููุฑุฑุฉ (14 โ 7 ููุญุงุช)
   โ
4๏ธโฃ ุชุทุจูู RBAC ุนูู ุฌููุน ุงูุตูุญุงุช
   โ
5๏ธโฃ ุงุฎุชุจุงุฑ ุดุงูู
```

**ูุฐุง ุณูุนุทููุง:**
- โ ูุธุงู ูุงุถุญ ูููุธู
- โ ุจุฏูู ุชูุฑุงุฑ
- โ ุณูู ุงูุตูุงูุฉ
- โ ุฃูุงู ูุญูู

---

**ูุง ุฑุฃููุ ูู ูุจุฏุฃ ุจุฅูุดุงุก ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏูููุ** ๐ฏ

