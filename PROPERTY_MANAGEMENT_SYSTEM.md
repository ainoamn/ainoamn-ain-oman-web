# 🏢 نظام إدارة العقارات الداخلي

## 📋 نظرة عامة

نظام شامل لإدارة العقارات والمرافق والمصاريف والمستندات، مصمم للاستخدام الداخلي فقط من قبل الملاك والمستأجرين وإدارة العقارات.

## 🎯 الميزات الرئيسية

### 1️⃣ إدارة الخدمات والمرافق
- **تتبع الخدمات**: كهرباء، ماء، إنترنت، غاز، صيانة، تنظيف، أمن
- **إدارة الحسابات**: أرقام الحسابات، المزودين، المبالغ الشهرية
- **تتبع الاستحقاق**: تواريخ الدفع، المبالغ المتأخرة
- **الاسترداد**: تتبع المبالغ القابلة للاسترداد من المستأجرين

### 2️⃣ إدارة المستندات
- **أنواع المستندات**: سندات الملكية، تصاريح البناء، التأمين، العقود
- **مستويات الوصول**: مالك، مستأجر، إدارة، أو مزيج منها
- **تتبع الانتهاء**: تنبيهات للمستندات المنتهية الصلاحية
- **رفع الملفات**: دعم PDF, DOC, DOCX, JPG, PNG

### 3️⃣ إدارة المصاريف
- **تصنيف المصاريف**: صيانة، مرافق، تنظيف، أمن، تأمين، قانوني
- **تتبع المدفوعات**: حالة الدفع، الفواتير، الإيصالات
- **الاسترداد**: ربط المصاريف بالوحدات والمستأجرين
- **التقارير**: تحليل المصاريف حسب النوع والفترة

### 4️⃣ نظام التنبيهات
- **تنبيهات الخدمات**: الحسابات المتأخرة، الاستحقاق
- **تنبيهات المستندات**: انتهاء الصلاحية
- **تنبيهات المصاريف**: المبالغ القابلة للاسترداد
- **أولويات التنبيهات**: عاجل، عالي، متوسط، منخفض

## 🏗️ الهيكل التقني

### ملفات البيانات
```
.data/
├── property-services.json      # خدمات العقارات
├── property-documents.json     # مستندات العقارات
├── property-expenses.json      # مصاريف العقارات
└── property-notifications.json # تنبيهات العقارات
```

### APIs
```
src/pages/api/
├── property-services/
│   ├── index.ts               # CRUD للخدمات
│   └── [id].ts               # خدمة معينة
├── property-documents/
│   └── index.ts              # CRUD للمستندات
├── property-expenses/
│   └── index.ts              # CRUD للمصاريف
└── property-notifications/
    └── index.ts              # إدارة التنبيهات
```

### الصفحات
```
src/pages/property-management/
├── [id]/
│   ├── index.tsx             # الصفحة الرئيسية
│   ├── reports.tsx           # التقارير المالية
│   ├── services/
│   │   └── new.tsx           # إضافة خدمة جديدة
│   ├── documents/
│   │   └── new.tsx           # إضافة مستند جديد
│   └── expenses/
│       └── new.tsx           # إضافة مصروف جديد
└── overdue/
    └── index.tsx             # الحسابات المتأخرة
```

### المكونات
```
src/components/property/
└── PropertyNotifications.tsx # مكون التنبيهات
```

## 🔐 نظام الصلاحيات

### للمالك (`property_owner`)
- ✅ عرض وإدارة جميع بيانات عقاراته
- ✅ إضافة/تعديل/حذف الخدمات والمستندات والمصاريف
- ✅ عرض الحسابات المتأخرة
- ✅ إنشاء التقارير المالية

### للمستأجر (`tenant`)
- ✅ عرض بيانات العقار المستأجر فقط
- ✅ عرض الخدمات المتعلقة بعقاره
- ✅ عرض المستندات المطلوبة منه
- ✅ عرض المصاريف المطلوبة منه
- ❌ لا يمكنه تعديل البيانات

### للإدارة (`admin`)
- ✅ عرض وإدارة جميع البيانات
- ✅ إدارة جميع العقارات
- ✅ إنشاء التقارير الشاملة

## 📊 أنواع التقارير

### 1️⃣ التقارير المالية
- **ملخص المصاريف**: إجمالي، مسترد، صافي
- **توزيع المصاريف**: حسب النوع والنسبة
- **تفصيل التكاليف**: مرافق، صيانة، كهرباء وماء
- **فترات زمنية**: أسبوع، شهر، ربع، سنة

### 2️⃣ تقارير الخدمات
- **الخدمات النشطة**: قائمة بجميع الخدمات
- **الحسابات المتأخرة**: المبالغ المستحقة
- **تكاليف الخدمات**: حسب النوع والفترة

### 3️⃣ تقارير المستندات
- **المستندات الصالحة**: قائمة المستندات النشطة
- **المستندات المنتهية**: تحتاج تجديد
- **مستويات الوصول**: حسب الصلاحيات

## 🚀 كيفية الاستخدام

### 1️⃣ الوصول للنظام
1. تسجيل الدخول بحساب المالك
2. الانتقال إلى لوحة التحكم
3. اختيار تبويب "خدمات العقارات" أو "مستندات العقارات" أو "مصاريف العقارات"

### 2️⃣ إضافة خدمة جديدة
1. الانتقال إلى صفحة العقار
2. اختيار تبويب "الخدمات والمرافق"
3. النقر على "إضافة خدمة جديدة"
4. ملء البيانات المطلوبة
5. حفظ الخدمة

### 3️⃣ إدارة المصاريف
1. الانتقال إلى صفحة العقار
2. اختيار تبويب "المصاريف"
3. النقر على "إضافة مصروف جديد"
4. تصنيف المصروف وإدخال التفاصيل
5. تحديد إمكانية الاسترداد

### 4️⃣ عرض التقارير
1. الانتقال إلى صفحة العقار
2. اختيار تبويب "التقارير"
3. اختيار الفترة الزمنية
4. مراجعة البيانات المالية

## 🔔 نظام التنبيهات

### أنواع التنبيهات
- **🚨 عاجل**: حسابات متأخرة أكثر من 30 يوم
- **⚠️ عالي**: حسابات متأخرة 7-30 يوم
- **📢 متوسط**: مستندات تنتهي خلال 30 يوم
- **ℹ️ منخفض**: مصاريف قابلة للاسترداد

### إدارة التنبيهات
- تمييز كمقروء
- رفض التنبيه
- عرض التفاصيل
- الانتقال للصفحة ذات الصلة

## 📱 التصميم المتجاوب

- **سطح المكتب**: عرض كامل مع جداول تفصيلية
- **التابلت**: تخطيط شبكي محسن
- **الهاتف**: قوائم مدمجة مع إجراءات سريعة

## 🎨 الميزات البصرية

- **أيقونات تعبيرية**: لسهولة التمييز
- **ألوان الحالة**: أخضر (نشط)، أحمر (متأخر)، أصفر (تحذير)
- **رسوم متحركة**: انتقالات سلسة مع Framer Motion
- **تصميم حديث**: واجهة مستخدم عصرية ومتجاوبة

## 🔧 التطوير المستقبلي

### الميزات المخططة
- [ ] تكامل مع أنظمة الدفع
- [ ] إشعارات البريد الإلكتروني
- [ ] تطبيق الهاتف المحمول
- [ ] تحليلات متقدمة
- [ ] تكامل مع أنظمة المحاسبة
- [ ] دعم متعدد اللغات

### التحسينات التقنية
- [ ] تحسين الأداء
- [ ] إضافة المزيد من الاختبارات
- [ ] تحسين الأمان
- [ ] دعم الملفات الكبيرة
- [ ] نسخ احتياطي تلقائي

## 📞 الدعم الفني

للحصول على الدعم أو الإبلاغ عن مشاكل:
- إنشاء issue في GitHub
- التواصل مع فريق التطوير
- مراجعة الوثائق التقنية

---

**تم تطوير هذا النظام بواسطة فريق عين عمان للعقارات** 🏢
