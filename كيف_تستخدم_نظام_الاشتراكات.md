# ๐ ููู ุชุณุชุฎุฏู ูุธุงู ุงูุงุดุชุฑุงูุงุช - ุดุฑุญ ูุจุณุท

<div align="center">

**ุฏููู ุจุณูุท ูููู ูุงุณุชุฎุฏุงู ุงููุธุงู ุงูุฌุฏูุฏ**

</div>

---

## ๐ก ุงูููุฑุฉ ุจุจุณุงุทุฉ

**ุงูุขู ููููู ุงูุชุญูู ูู ุฃู ุตูุญุฉ ุฃู ููุฒุฉ ุจูุงุกู ุนูู ุจุงูุฉ ุงููุณุชุฎุฏู!**

ูุซุงู:
- ูุณุชุฎุฏู **ูุฌุงูู** โ ูุง ูุฑู "ุงูููุงู" ู"ุงููุงููููุฉ"
- ูุณุชุฎุฏู **ุฃุณุงุณู** โ ูุฑู "ุงูููุงู" ููู ูุง ูุฑู "ุงููุงููููุฉ"
- ูุณุชุฎุฏู **ูููุฒ** โ ูุฑู ูู ุดูุก!

---

## ๐ฏ ูุง ุชู ุฅูุดุงุคู

### 1. ูุธุงู ูุฑูุฒู ููุงุดุชุฑุงูุงุช

**ุงูููู:** `src/context/SubscriptionContext.tsx`

- ููุฑุฃ ุงุดุชุฑุงู ุงููุณุชุฎุฏู ูู `localStorage`
- ูููุฑ ุฏูุงู ููุชุญูู ูู ุงูุตูุงุญูุงุช
- ูุชุญุฏุซ ุชููุงุฆูุงู ุนูุฏ ุชุบููุฑ ุงูุจุงูุฉ

### 2. ูููู ููุชุญูู ูู ุงูุนุฑุถ

**ุงูููู:** `src/components/FeatureGate.tsx`

- ููุฎูู ุฃู ููููู ุงููุญุชูู ุญุณุจ ุงูุจุงูุฉ
- ูุนุฑุถ ุฑุณุงูุฉ ุชุฑููุฉ ุงุญุชุฑุงููุฉ
- ุณูู ุงูุงุณุชุฎุฏุงู ูู ุฃู ุตูุญุฉ

### 3. ุตูุญุฉ ููุฅุฏุงุฑุฉ

**ุงูููู:** `src/pages/admin/subscriptions/index.tsx`

- ุนุฑุถ ุฌููุน ุงูุจุงูุงุช
- ุชุนููู ุจุงูุฉ ูุฃู ูุณุชุฎุฏู
- ุฅุญุตุงุฆูุงุช ูุจุงุดุฑุฉ

---

## ๐ ููู ุชุณุชุฎุฏูู

### โ ุงูุทุฑููุฉ ุงูุฃุณูู - ูู ุฃู ุตูุญุฉ

```tsx
import FeatureGate from '@/components/FeatureGate';

export default function MyPage() {
  return (
    <div>
      <h1>ุตูุญุชู</h1>
      
      {/* ูุณู ุงูููุงู - ูุธูุฑ ููุท ููู ูุฏููู ุตูุงุญูุฉ */}
      <FeatureGate feature="tasks">
        <div>
          <h2>ุงูููุงู</h2>
          {/* ูุญุชูู ุงูููุงู ููุง */}
        </div>
      </FeatureGate>
      
      {/* ูุณู ุงููุงููููุฉ - ูุน ุฑุณุงูุฉ ุชุฑููุฉ ุฅุฐุง ูุงู ููููู */}
      <FeatureGate feature="legal" mode="lock" showUpgrade={true}>
        <div>
          <h2>ุงููุถุงูุง ุงููุงููููุฉ</h2>
          {/* ูุญุชูู ุงููุงููููุฉ ููุง */}
        </div>
      </FeatureGate>
    </div>
  );
}
```

**ูุงูููุฏ ูุชุญูู ุงููุณุคูููุฉ ูุงููุฉ!** โจ

---

### โ ููููุงุฆู ูุงูุฃุฒุฑุงุฑ

```tsx
import { useFeatureVisibility } from '@/components/FeatureGate';

export default function Menu() {
  const showTasks = useFeatureVisibility('tasks');
  const showLegal = useFeatureVisibility('legal');
  
  return (
    <nav>
      <a href="/">ุงูุฑุฆูุณูุฉ</a>
      <a href="/properties">ุงูุนูุงุฑุงุช</a>
      
      {/* ูุธูุฑ ููุท ุฅุฐุง ูุงูุช ุงูุจุงูุฉ ุชุณูุญ */}
      {showTasks && <a href="/tasks">ุงูููุงู</a>}
      {showLegal && <a href="/legal">ุงููุงููููุฉ</a>}
    </nav>
  );
}
```

---

## ๐จ ุงูุฃูุถุงุน ุงููุชุงุญุฉ

ุนูุฏ ุงุณุชุฎุฏุงู `<FeatureGate>` ูุฏูู 3 ุฎูุงุฑุงุช:

### 1. `mode="hide"` (ุฅุฎูุงุก ูุงูู)

```tsx
<FeatureGate feature="tasks" mode="hide">
  <TasksSection />
</FeatureGate>
```

**ุงููุชูุฌุฉ:**
- โ ูุฏูู ุตูุงุญูุฉ โ ูุธูุฑ ุงููุญุชูู
- โ ููุณ ูุฏูู โ ูุง ูุธูุฑ ุฃู ุดูุก

---

### 2. `mode="lock"` (ููู ูุน ุฑุณุงูุฉ)

```tsx
<FeatureGate feature="tasks" mode="lock" showUpgrade={true}>
  <TasksSection />
</FeatureGate>
```

**ุงููุชูุฌุฉ:**
- โ ูุฏูู ุตูุงุญูุฉ โ ูุธูุฑ ุงููุญุชูู
- โ ููุณ ูุฏูู โ ูุธูุฑ ุจุทุงูุฉ ุฌูููุฉ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ       ๐                   โ
โ   โ ุงูููุงู ููููุฉ          โ
โ                            โ
โ ูุฐู ุงูููุฒุฉ ุบูุฑ ูุชุงุญุฉ       โ
โ ูู ุจุงูุชู ุงูุญุงููุฉ          โ
โ                            โ
โ  [โก ุงูุชุฑููุฉ ุงูุขู]          โ
โ  [ููุงุฑูุฉ ุงูุจุงูุงุช]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 3. `mode="disable"` (ุนุฑุถ ูุนุทู)

```tsx
<FeatureGate feature="tasks" mode="disable">
  <TasksSection />
</FeatureGate>
```

**ุงููุชูุฌุฉ:**
- โ ูุฏูู ุตูุงุญูุฉ โ ูุธูุฑ ุงููุญุชูู ุนุงุฏู
- โ ููุณ ูุฏูู โ ูุธูุฑ ุงููุญุชูู ููู:
  - ูุนุชู (opacity ููุฎูุถ)
  - grayscale (ุฃุจูุถ ูุฃุณูุฏ)
  - ุบูุฑ ูุงุจู ููููุฑ
  - ุฃููููุฉ ููู ูู ุงูููุชุตู

---

## ๐ฎ ุชุฌุฑุจุฉ ุงููุธุงู

### ุงูุฎุทูุฉ 1: ุงูุชุญ ุตูุญุฉ ุงูุฅุฏุงุฑุฉ

```
http://localhost:3000/admin/subscriptions
```

ุณุชุฌุฏ:
- โ ูุงุฆูุฉ ุจุฌููุน ุงูุจุงูุงุช
- โ ูุงุฆูุฉ ุจุงููุณุชุฎุฏููู
- โ ุฅุญุตุงุฆูุงุช ูุจุงุดุฑุฉ

---

### ุงูุฎุทูุฉ 2: ุนููู ุจุงูุฉ ููุณุชุฎุฏู

1. ุงุถุบุท ุฒุฑ "**ุชุนููู**" ุจุฌุงูุจ ุฃู ูุณุชุฎุฏู
2. ุงุฎุชุฑ ุจุงูุฉ (ูุซูุงู: "**ุงูุฃุณุงุณูุฉ**")
3. ุงุถุบุท "**ุชุนููู ุงูุจุงูุฉ**"
4. ุณุชุธูุฑ ุฑุณุงูุฉ: "โ ุชู ุชุนููู ุงูุงุดุชุฑุงู ุจูุฌุงุญ!"

---

### ุงูุฎุทูุฉ 3: ุงูุชุญ ุตูุญุฉ Profile

```
http://localhost:3000/profile
```

ุณุชุฌุฏ:
- ุฅุฐุง ุงุฎุชุฑุช "**ุงููุฌุงููุฉ**" โ ูุณู ุงูููุงู ููููู ูุน ุฑุณุงูุฉ ุชุฑููุฉ
- ุฅุฐุง ุงุฎุชุฑุช "**ุงูุฃุณุงุณูุฉ**" โ ูุณู ุงูููุงู ูุธูุฑ
- ุฅุฐุง ุงุฎุชุฑุช "**ุงููููุฒุฉ**" โ ูู ุดูุก ูุธูุฑ

---

### ุงูุฎุทูุฉ 4: ุฌุฑูุจ ุงูุชุจุฏูู

ุงุฑุฌุน ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ ูุบููุฑ ุงูุจุงูุฉุ ุซู ุงุฑุฌุน ููู Profile:

```
ูุฌุงููุฉ โ Profile โ ููุงู ูููููุฉ
   โ
ุฃุณุงุณูุฉ โ Profile โ ููุงู ุชุธูุฑ!
   โ
ูููุฒุฉ โ Profile โ ูู ุดูุก ูุธูุฑ!
```

**ูู ุดูุก ูุญุฏุซ ููุฑุงู!** โก

---

## ๐ ุงูููุฒุงุช ุงููุชุงุญุฉ

ูุฐู ุงูููุฒุงุช ุงูุชู ููููู ุงูุชุญูู ุจูุง:

| ุงูููุฒุฉ | ุงูุงุณู ุงูุจุฑูุฌู | ุงูุงุณุชุฎุฏุงู |
|--------|---------------|-----------|
| ุงูููุงู | `tasks` | `<FeatureGate feature="tasks">` |
| ุงูุชูููู | `calendar` | `<FeatureGate feature="calendar">` |
| ุงูุญุฌูุฒุงุช | `bookings` | `<FeatureGate feature="bookings">` |
| ุงูุนูุงุฑุงุช | `properties` | `<FeatureGate feature="properties">` |
| ุงููุงููููุฉ | `legal` | `<FeatureGate feature="legal">` |
| ุงูุชุญูููุงุช | `analytics` | `<FeatureGate feature="analytics">` |
| ุงูุชูุงุฑูุฑ | `analytics` | `<FeatureGate feature="analytics">` |
| ุงููุฒุงุฏุงุช | `auctions` | (ุฅุฐุง ุฃุถูุชูุง ูุงุญูุงู) |

---

## ๐ง ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ

### ูุซุงู: ุฅุถุงูุฉ ููุฒุฉ "ุงููุฒุงุฏุงุช"

#### 1. ุงูุชุญ `src/lib/permissionConfig.ts`

```typescript
export const FEATURE_PERMISSIONS = {
  // ... ุงูููุฌูุฏ
  AUCTIONS_VIEW: 'auction_read',
  AUCTIONS_BID: 'auction_bid',
};
```

#### 2. ุงูุชุญ `src/lib/subscriptionSystem.ts`

```typescript
// ูู ุงูุจุงูุฉ ุงูุชู ุชุฑูุฏ ุฅุถุงูุฉ ุงูููุฒุฉ ููุง
{
  id: 'premium',
  permissions: [
    // ... ุงูููุฌูุฏ
    { 
      id: 'auction_read', 
      category: 'auctions',
      level: 'read',
      nameAr: 'ุนุฑุถ ุงููุฒุงุฏุงุช'
    },
    { 
      id: 'auction_bid', 
      category: 'auctions',
      level: 'write',
      nameAr: 'ุงููุดุงุฑูุฉ ูู ุงููุฒุงุฏุงุช'
    }
  ]
}
```

#### 3. ุงุณุชุฎุฏู ูู ุงูุตูุญุฉ

```tsx
<FeatureGate feature="auctions" mode="lock" showUpgrade={true}>
  <AuctionsPage />
</FeatureGate>
```

**ูุงูุชูู! โก**

---

## ๐ฌ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

### ุณ: ูู ูููููู ุฅุฎูุงุก ุฒุฑ ูุนูู ุจูุงุกู ุนูู ุงูุจุงูุฉุ

โ ูุนู:

```tsx
import { useFeatureVisibility } from '@/components/FeatureGate';

const showReports = useFeatureVisibility('analytics');

{showReports && (
  <button onClick={...}>ุนุฑุถ ุงูุชูุงุฑูุฑ</button>
)}
```

---

### ุณ: ููู ุฃุนุฑู ุงูุจุงูุฉ ุงูุญุงููุฉ ูููุณุชุฎุฏูุ

โ ุงุณุชุฎุฏู:

```tsx
import { useSubscription } from '@/context/SubscriptionContext';

const { plan, subscription } = useSubscription();

console.log('ุงูุจุงูุฉ ุงูุญุงููุฉ:', plan?.nameAr);
console.log('ุงูุณุนุฑ:', plan?.price);
console.log('ุงูุญุฏ ุงูุฃูุตู ููุนูุงุฑุงุช:', plan?.maxProperties);
```

---

### ุณ: ููู ุฃุชุญูู ูู ุงูุญุฏูุฏ (ูุซูุงู ุนุฏุฏ ุงูุนูุงุฑุงุช)ุ

โ ุงุณุชุฎุฏู:

```tsx
import { useSubscription } from '@/context/SubscriptionContext';

const { isWithinLimit } = useSubscription();

const handleAddProperty = () => {
  const currentCount = 10; // ูู API ุฃู state
  
  if (!isWithinLimit('properties', currentCount)) {
    alert('ูุตูุช ููุญุฏ ุงูุฃูุตู! ูู ุจุงูุชุฑููุฉ');
    router.push('/subscriptions');
    return;
  }
  
  // ุฅุถุงูุฉ ุนูุงุฑ ุฌุฏูุฏ...
};
```

---

### ุณ: ุฃูู ุฃุฌุฏ ุงูุฃูุซูุฉ ุงูุชูุตูููุฉุ

โ ุฑุงุฌุน:
- `FEATURE_GATE_EXAMPLE.md` - ุฃูุซูุฉ ุนูููุฉ ููุตูุฉ
- `SUBSCRIPTION_SYSTEM_COMPLETE_GUIDE.md` - ุงูุฏููู ุงูุดุงูู
- `SUBSCRIPTION_SYSTEM_SUCCESS.md` - ุชูุฑูุฑ ุงููุฌุงุญ

---

## ๐ ุงูุฎูุงุตุฉ

### ูุง ุชุญุชุงุฌ ุฃู ุชุนุฑูู:

1. **ููุฅุฎูุงุก/ุงูุฅุธูุงุฑ ุงููุงูู:**
   ```tsx
   <FeatureGate feature="tasks" mode="hide">
     <Content />
   </FeatureGate>
   ```

2. **ููููู ูุน ุฑุณุงูุฉ ุชุฑููุฉ:**
   ```tsx
   <FeatureGate feature="tasks" mode="lock" showUpgrade={true}>
     <Content />
   </FeatureGate>
   ```

3. **ููููุงุฆู ูุงูุฃุฒุฑุงุฑ:**
   ```tsx
   const showTasks = useFeatureVisibility('tasks');
   {showTasks && <MenuItem />}
   ```

4. **ูุฅุฏุงุฑุฉ ุงูุจุงูุงุช:**
   ```
   http://localhost:3000/admin/subscriptions
   ```

---

<div align="center">

## ๐ ูุฐุง ูู ุดูุก!

**ุงููุธุงู ุจุณูุท ูููู ููุฑู**

**ุฃู ุณุคุงูุ** ุฑุงุฌุน ุงููููุงุช ุงูุฃุฎุฑู ุฃู ุงุณุฃู!

---

### ๐ ุงุจุฏุฃ ุงูุขู!

ุงูุชุญ: `http://localhost:3000/admin/subscriptions`

ุฌุฑูุจ ุชุนููู ุจุงูุงุช ูุฎุชููุฉ ูุดุงูุฏ ุงููุชุงุฆุฌ! โจ

</div>

---

*ุขุฎุฑ ุชุญุฏูุซ: 9 ุฃูุชูุจุฑ 2025*  
*ููู ูุจุณุท ููููู ุงูุณุฑูุน*

